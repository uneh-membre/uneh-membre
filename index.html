<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>UNEHUPR - Profil Membre</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 900px;
        margin: 0 auto;
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        overflow: hidden;
        animation: slideIn 0.8s ease-out;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .header {
        background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
        color: white;
        padding: 40px 30px;
        text-align: center;
        position: relative;
        overflow: hidden;
      }

      .header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: radial-gradient(
            circle at 20% 80%,
            rgba(255, 255, 255, 0.1) 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 80% 20%,
            rgba(255, 255, 255, 0.1) 0%,
            transparent 50%
          );
      }

      .header-content {
        position: relative;
        z-index: 2;
      }

      .organization-name {
        font-size: 2.2rem;
        font-weight: 700;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .organization-subtitle {
        font-size: 1.1rem;
        opacity: 0.9;
        font-weight: 300;
        letter-spacing: 1px;
      }

      .member-profile {
        padding: 40px 30px;
      }

      .profile-header {
        text-align: center;
        margin-bottom: 40px;
        padding-bottom: 30px;
        border-bottom: 2px solid #e8ecf4;
      }

      .member-name {
        font-size: 2.5rem;
        color: #2d3748;
        font-weight: 600;
        margin-bottom: 10px;
      }

      .member-photo {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        margin: 0 auto 20px auto;
        border: 4px solid #4299e1;
        box-shadow: 0 8px 25px rgba(66, 153, 225, 0.3);
        overflow: hidden;
        position: relative;
        background: linear-gradient(135deg, #e2e8f0, #cbd5e0);
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .member-photo img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .member-photo .default-icon {
        font-size: 3rem;
        color: #718096;
      }

      .member-photo .loading {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(255, 255, 255, 0.8);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        color: #4299e1;
      }

      .member-status {
        background: linear-gradient(135deg, #4caf50, #45a049);
        color: white;
        padding: 8px 20px;
        border-radius: 25px;
        font-weight: 500;
        display: inline-block;
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .info-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 30px;
        margin-top: 30px;
      }

      .info-card {
        background: #f8fafc;
        border-radius: 15px;
        padding: 25px;
        border-left: 5px solid #4299e1;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .info-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      }

      .info-card:nth-child(2n) {
        border-left-color: #48bb78;
      }

      .info-card:nth-child(3n) {
        border-left-color: #ed8936;
      }

      .info-card:nth-child(4n) {
        border-left-color: #9f7aea;
      }

      .info-label {
        font-size: 0.85rem;
        color: #718096;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 8px;
        font-weight: 600;
      }

      .info-value {
        font-size: 1.1rem;
        color: #2d3748;
        font-weight: 500;
        line-height: 1.4;
      }

      .academic-section {
        background: linear-gradient(135deg, #e6f3ff, #f0f8ff);
        margin: 30px -30px -40px -30px;
        padding: 40px 30px;
        border-top: 2px solid #e8ecf4;
      }

      .section-title {
        font-size: 1.5rem;
        color: #2d3748;
        font-weight: 600;
        margin-bottom: 20px;
        text-align: center;
      }

      .blood-type {
        background: linear-gradient(135deg, #ff6b6b, #ee5a24);
        color: white;
        padding: 15px 25px;
        border-radius: 50px;
        font-weight: 600;
        font-size: 1.2rem;
        text-align: center;
        margin-top: 20px;
        box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
      }

      @media (max-width: 768px) {
        body {
          padding: 10px;
        }

        .container {
          border-radius: 10px;
        }

        .header {
          padding: 30px 20px;
        }

        .organization-name {
          font-size: 1.8rem;
        }

        .organization-subtitle {
          font-size: 1rem;
        }

        .member-profile {
          padding: 30px 20px;
        }

        .member-name {
          font-size: 2rem;
        }

        .info-grid {
          grid-template-columns: 1fr;
          gap: 20px;
        }

        .info-card {
          padding: 20px;
        }

        .academic-section {
          margin: 20px -20px -30px -20px;
          padding: 30px 20px;
        }
      }

      @media (max-width: 480px) {
        .organization-name {
          font-size: 1.5rem;
        }

        .member-name {
          font-size: 1.7rem;
        }

        .info-card {
          padding: 15px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header class="header">
        <div class="header-content">
          <p style="color: #ee5a24; font-size: 13px">
            << Cette carte est la propri√©t√© priv√©e d'Union Nationale des
            √âtudiants Ha√Øtiens de l'universit√© Publique de la R√©publique>>.
          </p>
          <h1 class="organization-name">UNEHUPR</h1>
          <p class="organization-subtitle">
            Union Nationale des √âtudiants Ha√Øtiens de l'Universit√© Publique de
            la R√©publique
          </p>
        </div>
      </header>

      <main class="member-profile">
        <div class="profile-header">
          <div class="member-photo" id="memberPhoto">
            <div class="default-icon">üë§</div>
          </div>
          <h2 class="member-name" id="memberName">Jean Baptiste PIERRE</h2>
          <span class="member-status">Membre Actif UNEH</span>
        </div>

        <div class="info-grid">
          <div class="info-card">
            <div class="info-label">Nom</div>
            <div class="info-value" id="lastName">PIERRE</div>
          </div>

          <div class="info-card">
            <div class="info-label">Pr√©nom</div>
            <div class="info-value" id="firstName">Jean Baptiste</div>
          </div>

          <div class="info-card">
            <div class="info-label">T√©l√©phone</div>
            <div class="info-value" id="telephone">+509 1234-5678</div>
          </div>

          <div class="info-card">
            <div class="info-label">Email</div>
            <div class="info-value" id="email">jean.pierre@uneh.edu.ht</div>
          </div>

          <div class="info-card">
            <div class="info-label">Date de Naissance</div>
            <div class="info-value" id="birthDate">15 Mars 1998</div>
          </div>

          <div class="info-card">
            <div class="info-label">Lieu de Naissance</div>
            <div class="info-value" id="birthPlace">Port-au-Prince, Ha√Øti</div>
          </div>
        </div>

        <div class="academic-section">
          <h3 class="section-title">Informations Acad√©miques</h3>

          <div class="info-grid">
            <div class="info-card">
              <div class="info-label">Facult√©</div>
              <div class="info-value" id="faculty">Facult√© des Sciences</div>
            </div>

            <div class="info-card">
              <div class="info-label">Option</div>
              <div class="info-value" id="option">Informatique</div>
            </div>

            <div class="info-card">
              <div class="info-label">Niveau</div>
              <div class="info-value" id="niveau">4√®me ann√©e</div>
            </div>

            <div class="info-card">
              <div class="info-label">Promotion</div>
              <div class="info-value" id="promotion">2024</div>
            </div>

            <div class="info-card">
              <div class="info-label">Fonction UNEH</div>
              <div class="info-value" id="unehFunction">
                Secr√©taire G√©n√©ral - Section Informatique
              </div>
            </div>

            <div class="info-card">
              <div class="info-label">Statut</div>
              <div class="info-value" id="statut">Actif</div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <script>
      // Fonction pour r√©cup√©rer les param√®tres GET de l'URL
      function getURLParameters() {
        const urlParams = new URLSearchParams(window.location.search);
        return {
          firstName: urlParams.get("prenom") || "Non sp√©cifi√©",
          lastName: urlParams.get("nom") || "Non sp√©cifi√©",
          telephone: urlParams.get("telephone") || "Non sp√©cifi√©",
          email: urlParams.get("email") || "Non sp√©cifi√©",
          birthDate: urlParams.get("datenaissance") || "Non sp√©cifi√©",
          birthPlace: urlParams.get("lieunaissance") || "Non sp√©cifi√©",
          faculty: urlParams.get("faculte") || "Non sp√©cifi√©",
          option: urlParams.get("option") || "Non sp√©cifi√©",
          niveau: urlParams.get("niveau") || "Non sp√©cifi√©",
          promotion: urlParams.get("promotion") || "Non sp√©cifi√©",
          unehFunction: urlParams.get("fonctionuneh") || "Non sp√©cifi√©",
          statut: urlParams.get("statut") || "Non sp√©cifi√©",
          photo: urlParams.get("photo") || null,
        };
      }

      // Donn√©es par d√©faut si aucun param√®tre n'est fourni
      const defaultData = {
        firstName: "Jean Baptiste",
        lastName: "PIERRE",
        telephone: "+509 1234-5678",
        email: "jean.pierre@uneh.edu.ht",
        birthDate: "15 Mars 1998",
        birthPlace: "Port-au-Prince, Ha√Øti",
        faculty: "Facult√© des Sciences",
        option: "Informatique",
        niveau: "4√®me ann√©e",
        promotion: "2024",
        unehFunction: "Secr√©taire G√©n√©ral - Section Informatique",
        statut: "Actif",
        photo: null,
      };

      // Fonction pour d√©coder les param√®tres URL (gestion des caract√®res sp√©ciaux)
      function decodeURLParameter(param) {
        if (!param || param === "Non sp√©cifi√©") return param;
        try {
          return decodeURIComponent(param.replace(/\+/g, " "));
        } catch (e) {
          return param;
        }
      }

      // Fonction pour mettre √† jour la photo de profil
      function updateMemberPhoto(photoUrl) {
        const photoContainer = document.getElementById("memberPhoto");
        
        if (photoUrl && photoUrl !== "Non sp√©cifi√©") {
          // Afficher un indicateur de chargement
          photoContainer.innerHTML = '<div class="loading">‚è≥</div>';
          
          // Cr√©er une nouvelle image pour tester le chargement
          const img = new Image();
          
          img.onload = function() {
            // Image charg√©e avec succ√®s
            photoContainer.innerHTML = `<img src="${photoUrl}" alt="Photo de profil" />`;
          };
          
          img.onerror = function() {
            // Erreur de chargement, afficher l'ic√¥ne par d√©faut
            photoContainer.innerHTML = '<div class="default-icon">üë§</div>';
            console.warn("Impossible de charger l'image:", photoUrl);
          };
          
          // D√©marrer le chargement
          img.src = photoUrl;
        } else {
          // Pas d'URL fournie, afficher l'ic√¥ne par d√©faut
          photoContainer.innerHTML = '<div class="default-icon">üë§</div>';
        }
      }

      // Fonction pour mettre √† jour les informations affich√©es
      function updateMemberInfo(data) {
        // D√©coder tous les param√®tres
        const decodedData = {};
        Object.keys(data).forEach((key) => {
          decodedData[key] = decodeURLParameter(data[key]);
        });

        // Mettre √† jour la photo
        updateMemberPhoto(decodedData.photo);

        document.getElementById(
          "memberName"
        ).textContent = `${decodedData.firstName} ${decodedData.lastName}`;
        document.getElementById("firstName").textContent =
          decodedData.firstName;
        document.getElementById("lastName").textContent = decodedData.lastName;
        document.getElementById("telephone").textContent =
          decodedData.telephone;
        document.getElementById("email").textContent = decodedData.email;
        document.getElementById("birthDate").textContent =
          decodedData.birthDate;
        document.getElementById("birthPlace").textContent =
          decodedData.birthPlace;
        document.getElementById("faculty").textContent = decodedData.faculty;
        document.getElementById("option").textContent = decodedData.option;
        document.getElementById("niveau").textContent = decodedData.niveau;
        document.getElementById("promotion").textContent =
          decodedData.promotion;
        document.getElementById("unehFunction").textContent =
          decodedData.unehFunction;
        document.getElementById("statut").textContent = decodedData.statut;
      }

      // Animation d'apparition des cartes
      function animateCards() {
        const cards = document.querySelectorAll(".info-card");
        cards.forEach((card, index) => {
          card.style.opacity = "0";
          card.style.transform = "translateY(20px)";

          setTimeout(() => {
            card.style.transition = "opacity 0.6s ease, transform 0.6s ease";
            card.style.opacity = "1";
            card.style.transform = "translateY(0)";
          }, index * 100);
        });
      }

      // Fonction pour afficher un exemple d'URL
      function showExampleURL() {
        const baseURL = window.location.origin + window.location.pathname;
        const exampleURL = `${baseURL}?nom=PIERRE&prenom=Jean%20Baptiste&telephone=%2B509%201234-5678&email=jean.pierre%40uneh.edu.ht&datenaissance=15%20Mars%201998&lieunaissance=Port-au-Prince%2C%20Ha%C3%AFti&faculte=Facult%C3%A9%20des%20Sciences&option=Informatique&niveau=4%C3%A8me%20ann%C3%A9e&promotion=2024&fonctionuneh=Secr%C3%A9taire%20G%C3%A9n%C3%A9ral&statut=Actif&photo=https%3A//example.com/photo.jpg`;

        console.log("Exemple d'URL avec param√®tres :");
        console.log(exampleURL);
        console.log("\nParam√®tres disponibles (informations publiques) :");
        console.log("- nom: Nom de famille");
        console.log("- prenom: Pr√©nom");
        console.log("- telephone: Num√©ro de t√©l√©phone");
        console.log("- email: Adresse email");
        console.log("- datenaissance: Date de naissance");
        console.log("- lieunaissance: Lieu de naissance");
        console.log("- faculte: Facult√© d'√©tudes");
        console.log("- option: Option/Sp√©cialisation");
        console.log("- niveau: Niveau d'√©tudes");
        console.log("- promotion: Ann√©e de promotion");
        console.log("- fonctionuneh: Fonction dans l'UNEH");
        console.log("- statut: Statut du membre");
        console.log("- photo: URL de la photo de profil (optionnel)");
        console.log("\nExemples d'URLs de photos valides :");
        console.log("- https://example.com/photo.jpg");
        console.log("- https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop&crop=face");
        console.log("- https://via.placeholder.com/400x400/4299e1/ffffff?text=Photo");
      }

      // Initialisation au chargement de la page
      window.addEventListener("load", () => {
        // R√©cup√©rer les param√®tres de l'URL
        const urlData = getURLParameters();

        // Utiliser les param√®tres URL si disponibles, sinon utiliser les donn√©es par d√©faut
        const memberData = {};
        Object.keys(defaultData).forEach((key) => {
          memberData[key] =
            urlData[key] !== "Non sp√©cifi√©" ? urlData[key] : defaultData[key];
        });

        updateMemberInfo(memberData);
        setTimeout(animateCards, 500);

        // Afficher l'exemple d'URL dans la console (F12 pour voir)
        showExampleURL();
      });

      // Fonction utilitaire pour cr√©er une URL avec les donn√©es actuelles
      function generateCurrentURL() {
        const baseURL = window.location.origin + window.location.pathname;
        const urlData = getURLParameters();
        const params = new URLSearchParams();

        Object.entries(urlData).forEach(([key, value]) => {
          if (value !== "Non sp√©cifi√©") {
            const paramName = {
              firstName: "prenom",
              lastName: "nom",
              telephone: "telephone",
              email: "email",
              birthDate: "datenaissance",
              birthPlace: "lieunaissance",
              faculty: "faculte",
              option: "option",
              niveau: "niveau",
              promotion: "promotion",
              unehFunction: "fonctionuneh",
              statut: "statut",
              photo: "photo",
            }[key];
            if (paramName) params.set(paramName, value);
          }
        });

        return `${baseURL}?${params.toString()}`;
      }
    </script>
  </body>
</html>
